{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/gallery-api.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSearch","className","s","SearchForm","onSubmit","e","preventDefault","target","elements","imageName","value","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","src","alt","image","onClickModal","ImageGalleryItem_image","onClick","ImageGallery","images","onModal","map","webformatURL","tags","Modal","handleEscape","code","props","handleClose","currentTarget","window","addEventListener","this","removeEventListener","children","createPortal","Overlay","document","getElementById","Component","Button","API_KEY","page","a","axios","get","response","status","data","hits","api","fetchImages","LoaderSpinner","Loader","color","height","width","timeout","Status","App","state","selectedImage","error","showModal","handleFormSubmit","trim","setState","toggleModal","clickImages","handleLoadMoreBtnClick","prevState","prevProps","length","toast","then","newImages","catch","scrollTo","top","documentElement","scrollHeight","behavior","position","largeImageURL","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d594f478.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__17tOW\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2dTHL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3LUVD\",\"Modal\":\"Modal_Modal__Q7UAT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__kX5aS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1VwPL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1PSTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1W4Y8\",\"SearchForm\":\"Searchbar_SearchForm__2BGZi\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3kDIm\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2cCev\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2QcTF\"};","import PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSearch }) {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.imageName.value);\n    e.target.elements.imageName.value = '';\n  };\n\n  return (\n    <div>\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSearch}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            name=\"imageName\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    </div>\n  );\n}\n\nSearchbar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n}","import s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  id,\n  src,\n  alt,\n  image,\n  onClickModal,\n}) {\n  return (\n    <li key={id} className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItem_image}\n        src={src}\n        alt={alt}\n        onClick={() => {\n          onClickModal(image);\n        }}\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => {\n        return (\n          <ImageGalleryItem\n            key={image.id} \n            src={image.webformatURL}\n            alt={image.tags}\n            image={image}\n            onClickModal={onModal}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      src: PropTypes.string,\n      alt: PropTypes.string,\n      image: PropTypes.node,\n    }),\n  ),\n  onModal: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscape);\n  }\n\n  handleEscape = e => {\n    let condition = e.code === 'Escape';\n    if (condition) {\n      this.props.onModal();\n    }\n  };\n\n  handleClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onModal();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleClose}>\n        <div className={s.Modal}>{children}</div>\n      </div>,\n      document.getElementById('modalRoot'),\n    );\n  }\n}\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n","import axios from 'axios';\nconst API_KEY = '21768835-de3419a52772d349dcef7b4fc';\n\nasync function fetchImages(imageName, page) {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  if (response.status === 200) {\n    return response.data.hits;\n  }\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n\n// const fetchImages = async imageName => {\n//   const {data}= await axios.get\n//   ( `https://pixabay.com/api/?q=${imageName}&page=${1}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`);\n//   return data.hits;\n// }\n\n// export default fetchImages;\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst LoaderSpinner = () => {\n  return (\n    <div className={s.Loader}>\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={150}\n        width={150}\n        timeout={3000}\n      />\n    </div>\n  );\n};\n\nexport default LoaderSpinner;\n","import './App.css';\nimport { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport api from './services/gallery-api';\nimport Loader from './components/Loader/Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    status: Status.IDLE,\n    page: 1,\n    selectedImage: null,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { status, imageName, images, page } = this.state;\n    if (status === Status.RESOLVED && images.length === 0) {\n      toast.error(`Oops, we did not find such picture as ${imageName}`);\n      this.setState({ status: Status.IDLE });\n    }\n\n    if (status === Status.PENDING) {\n      api\n        .fetchImages(imageName, page)\n        .then(newImages =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...newImages],\n            status: Status.RESOLVED,\n          })),\n        )\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    if (this.state.page !== 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleFormSubmit = imageName => {\n    if (imageName.trim() !== '') {\n      this.setState({\n        status: Status.PENDING,\n        imageName,\n        images: [],\n        page: 1,\n      });\n    }\n\n    // if (this.state.imageName !== imageName) {\n    //     this.setState({\n    //         images: [],\n    //         page: 1,\n    //     })\n    //  }\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  clickImages = selectedImage => {\n    this.setState({ selectedImage });\n    this.toggleModal();\n  };\n\n  handleLoadMoreBtnClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n      status: Status.PENDING,\n    }));\n  };\n\n  render() {\n    const { images, status, showModal, selectedImage } = this.state;\n    const {\n      handleFormSubmit,\n      clickImages,\n      toggleModal,\n      handleLoadMoreBtnClick,\n    } = this;\n    return (\n      <div className=\"App\">\n        <Searchbar onSearch={handleFormSubmit} />\n        <Toaster position=\"top-right\" />\n        <ImageGallery images={images} onModal={clickImages} />\n        {status === Status.RESOLVED && (\n          <Button type=\"button\" onClick={handleLoadMoreBtnClick}>\n            Load more\n          </Button>\n        )}\n\n        {showModal && (\n          <>\n            <Loader />\n            <Modal onModal={toggleModal}>\n              <img src={selectedImage.largeImageURL} alt={selectedImage.tags} />\n            </Modal>\n          </>\n        )}\n\n        {status === Status.PENDING && <Loader />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}