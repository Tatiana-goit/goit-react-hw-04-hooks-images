(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__17tOW",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__2dTHL"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3LUVD",Modal:"Modal_Modal__Q7UAT"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__kX5aS"}},27:function(e,t,a){e.exports={Button:"Button_Button__1VwPL"}},31:function(e,t,a){e.exports={Loader:"Loader_Loader__1PSTl"}},36:function(e,t,a){},37:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1W4Y8",SearchForm:"Searchbar_SearchForm__2BGZi",SearchForm_button:"Searchbar_SearchForm_button__3kDIm",SearchForm_button_label:"Searchbar_SearchForm_button_label__2cCev",SearchForm_input:"Searchbar_SearchForm_input__2QcTF"}},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=(a(36),a(16)),i=a(8),l=a(9),u=a(11),m=a(10),h=(a(37),a(17)),d=a(4),g=a.n(d),p=a(1);function b(e){var t=e.onSearch;return Object(p.jsx)("div",{children:Object(p.jsx)("header",{className:g.a.Searchbar,children:Object(p.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.elements.imageName.value=""},children:[Object(p.jsx)("button",{type:"submit",className:g.a.SearchForm_button,children:Object(p.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})}),Object(p.jsx)("input",{className:g.a.SearchForm_input,type:"text",name:"imageName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var j=a(13),f=a.n(j);function _(e){var t=e.id,a=e.src,n=e.alt,r=e.image,o=e.onClickModal;return Object(p.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(p.jsx)("img",{className:f.a.ImageGalleryItem_image,src:a,alt:n,onClick:function(){o(r)}})},t)}var O=a(26),v=a.n(O);function x(e){var t=e.images,a=e.onModal;return Object(p.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return Object(p.jsx)(_,{src:e.webformatURL,alt:e.tags,image:e,onClickModal:a},e.id)}))})}var y=a(14),S=a.n(y),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleEscape=function(t){"Escape"===t.code&&e.props.onModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.onModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(Object(p.jsx)("div",{className:S.a.Overlay,onClick:this.handleClose,children:Object(p.jsx)("div",{className:S.a.Modal,children:e})}),document.getElementById("modalRoot"))}}]),a}(n.Component),k=a(27),w=a.n(k);function M(e){var t=e.onClick;return Object(p.jsx)("button",{type:"button",onClick:t,className:w.a.Button,children:"Load more"})}var F=a(15),N=a.n(F),C=a(28),L=a(29),G=a.n(L),B="21768835-de3419a52772d349dcef7b4fc";function E(){return(E=Object(C.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat(B,"&image_type=photo&orientation=horizontal&per_page=12"));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.hits);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T={fetchImages:function(e,t){return E.apply(this,arguments)}},U=T,D=a(30),A=a.n(D),P=a(31),R=a.n(P),W=function(){return Object(p.jsx)("div",{className:R.a.Loader,children:Object(p.jsx)(A.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3})})},H="idle",J="pending",Q="resolved",V="rejected",q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageName:null,images:[],status:H,page:1,selectedImage:null,error:null,showModal:!1},e.handleFormSubmit=function(t){""!==t.trim()&&e.setState({status:J,imageName:t,images:[],page:1})},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.clickImages=function(t){e.setState({selectedImage:t}),e.toggleModal()},e.handleLoadMoreBtnClick=function(){e.setState((function(e){return{page:e.page+1,status:J}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.status,o=n.imageName,c=n.images,i=n.page;r===Q&&0===c.length&&(h.b.error("Oops, we did not find such picture as ".concat(o)),this.setState({status:H})),r===J&&U.fetchImages(o,i).then((function(e){return a.setState((function(t){return{images:[].concat(Object(s.a)(t.images),Object(s.a)(e)),status:Q}}))})).catch((function(e){return a.setState({error:e,status:V})})),1!==this.state.page&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=e.showModal,r=e.selectedImage,o=this.handleFormSubmit,c=this.clickImages,s=this.toggleModal,i=this.handleLoadMoreBtnClick;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{onSearch:o}),Object(p.jsx)(h.a,{position:"top-right"}),Object(p.jsx)(x,{images:t,onModal:c}),a===Q&&Object(p.jsx)(M,{type:"button",onClick:i,children:"Load more"}),n&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(W,{}),Object(p.jsx)(I,{onModal:s,children:Object(p.jsx)("img",{src:r.largeImageURL,alt:r.tags})})]}),a===J&&Object(p.jsx)(W,{})]})}}]),a}(n.Component),z=q;c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.d594f478.chunk.js.map