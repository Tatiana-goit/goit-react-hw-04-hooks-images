(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__17tOW",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__2dTHL"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3LUVD",Modal:"Modal_Modal__Q7UAT"}},25:function(e,t,a){e.exports={container:"Container_container__WUMo1"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__kX5aS"}},27:function(e,t,a){e.exports={Button:"Button_Button__1VwPL"}},31:function(e,t,a){e.exports={Loader:"Loader_Loader__1PSTl"}},36:function(e,t,a){},37:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1W4Y8",SearchForm:"Searchbar_SearchForm__2BGZi",SearchForm_button:"Searchbar_SearchForm_button__3kDIm",SearchForm_button_label:"Searchbar_SearchForm_button_label__2cCev",SearchForm_input:"Searchbar_SearchForm_input__2QcTF"}},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(36),a(15)),s=a(4),l=(a(37),a(16)),u=a(25),m=a.n(u),b=a(1);function d(e){var t=e.children;return Object(b.jsx)("div",{className:m.a.container,children:t})}var j=a(5),h=a.n(j);function _(e){var t=e.onSearch;return Object(b.jsx)("div",{children:Object(b.jsx)("header",{className:h.a.Searchbar,children:Object(b.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.elements.imageName.value=""},children:[Object(b.jsx)("button",{type:"submit",className:h.a.SearchForm_button,children:Object(b.jsx)("span",{className:h.a.SearchForm_button_label,children:"Search"})}),Object(b.jsx)("input",{className:h.a.SearchForm_input,type:"text",name:"imageName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var O=a(12),f=a.n(O);function p(e){var t=e.id,a=e.src,n=e.alt,r=e.image,c=e.onClickModal;return Object(b.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(b.jsx)("img",{className:f.a.ImageGalleryItem_image,src:a,alt:n,onClick:function(){c(r)}})},t)}var g=a(26),x=a.n(g);function v(e){var t=e.images,a=e.onModal;return Object(b.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(b.jsx)(p,{src:e.webformatURL,alt:e.tags,image:e,onClickModal:a},e.id)}))})}var S=a(13),y=a.n(S);function I(e){var t=e.onModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(b.jsx)("div",{className:y.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(b.jsx)("div",{className:y.a.Modal,children:a})}),document.getElementById("modalRoot"))}var k=a(27),w=a.n(k);function F(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",onClick:t,className:w.a.Button,children:"Load more"})}var N=a(14),G=a.n(N),L=a(28),M=a(29),C=a.n(M),B="21768835-de3419a52772d349dcef7b4fc";function E(){return(E=Object(L.a)(G.a.mark((function e(t,a){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat(B,"&image_type=photo&orientation=horizontal&per_page=12"));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.hits);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e,t){return E.apply(this,arguments)},U=a(30),D=a.n(U),P=a(31),R=a.n(P);function W(){return Object(b.jsx)("div",{className:R.a.Loader,children:Object(b.jsx)(D.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3})})}var A="idle",H="pending",J="resolved",Q="rejected";function V(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),u=o[0],m=o[1],j=Object(n.useState)(A),h=Object(s.a)(j,2),O=h[0],f=h[1],p=Object(n.useState)(1),g=Object(s.a)(p,2),x=g[0],S=g[1],y=Object(n.useState)(null),k=Object(s.a)(y,2),w=k[0],N=k[1],G=Object(n.useState)(null),L=Object(s.a)(G,2),M=(L[0],L[1]),C=Object(n.useState)(!1),B=Object(s.a)(C,2),E=B[0],U=B[1];Object(n.useEffect)((function(){O===H&&T(a,x).then((function(e){if(0===e.length)return l.b.error("Oops, we did not find such picture as ".concat(a)),void f(A);m((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),f(J),1!==x&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){M(e),f(Q)}))}),[O]);var D=function(){U(!E)};return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(d,{children:[Object(b.jsx)(_,{onSearch:function(e){""!==e.trim()&&(f(H),r(e),m([]),S(1))}}),Object(b.jsx)(l.a,{position:"top-right"}),Object(b.jsx)(v,{images:u,onModal:function(e){N(e),D()}}),O===J&&Object(b.jsx)(F,{type:"button",onClick:function(){S((function(e){return e+1})),f(H)},children:"Load more"}),E&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(W,{}),Object(b.jsx)(I,{onModal:D,children:Object(b.jsx)("img",{src:w.largeImageURL,alt:w.tags})})]}),O===H&&Object(b.jsx)(W,{})]})})}o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.872a7b75.chunk.js.map